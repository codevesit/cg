#include<stdio.h>
#include<conio.h>
#include<graphics.h>

int a[6][2],b[1][2];

void drawhex()
{
	int i;
	for(i=0;i<5;i++)
	{
		line(a[i][0],a[i][1],a[i+1][0],a[i+1][1]);
	}
	line(a[5][0],a[5][1],a[0][0],a[0][1]);
}

void fractal()
{
	b[0][0]=a[0][0];
	b[0][1]=a[0][1];
	a[0][0]=(a[0][0]+a[1][0])/2;
	a[0][1]=(a[0][1]+a[1][1])/2;
	a[1][0]=(a[1][0]+a[2][0])/2;
	a[1][1]=(a[1][1]+a[2][1])/2;
	a[2][0]=(a[2][0]+a[3][0])/2;
	a[2][1]=(a[2][1]+a[3][1])/2;
	a[3][0]=(a[3][0]+a[4][0])/2;
	a[3][1]=(a[3][1]+a[4][1])/2;
	a[4][0]=(a[4][0]+a[5][0])/2;
	a[4][1]=(a[4][1]+a[5][1])/2;
	a[5][0]=(a[5][0]+b[0][0])/2;
	a[5][1]=(a[5][1]+b[0][1])/2;
	drawhex();
}

void main()
{
	int gd=DETECT,gm,i;
	initgraph(&gd,&gm,"C://TC//BGI");
	a[0][0]=200;
	a[0][1]=200;
	a[1][0]=400;
	a[1][1]=200;
	a[2][0]=500;
	a[2][1]=300;
	a[3][0]=400;
	a[3][1]=400;
	a[4][0]=200;
	a[4][1]=400;
	a[5][0]=100;
	a[5][1]=300;
	drawhex();
	for(i=0;i<=10;i++)
	{
		fractal();
	}
	getch();
	closegraph();
}
